{"version":3,"sources":["assets/loading.gif","App.js","index.js"],"names":["navigation","require","App","useState","cities","section","selectedCity","setSelectedCity","underlineWidth","setUnderlineWidth","underlinePosition","setUnderlinePosition","animationTransition","setAnimationTransition","time","setTime","timezoneLocation","setTimezoneLocation","updateUnderline","selectedCityElementPosition","document","getElementById","getBoundingClientRect","width","x","updateLocalTime","fetch","catch","console","log","then","res","json","datetime","split","hour","Number","slice","minutes","ampm","formattedTime","useEffect","handleWindowResize","debounce","window","addEventListener","_","removeEventListener","className","map","city","id","onClick","event","newSelectedCity","targetPosition","target","handleNewCitySelection","label","style","left","src","loadingGif","alt","ReactDOM","render","StrictMode"],"mappings":"2xBAAe,G,YAAA,IAA0B,qC,OCKnCA,EAAaC,EAAQ,IAEZ,SAASC,IACvB,MAAwCC,mBAASH,EAAWI,OAAO,GAAGC,SAAtE,mBAAOC,EAAP,KAAqBC,EAArB,KACA,EAA4CJ,mBAAS,OAArD,mBAAOK,EAAP,KAAuBC,EAAvB,KACA,EAAkDN,mBAAS,OAA3D,mBAAOO,EAAP,KAA0BC,EAA1B,KACA,EAAsDR,oBAAS,GAA/D,mBAAOS,EAAP,KAA4BC,EAA5B,KACA,EAAwBV,mBAAS,MAAjC,mBAAOW,EAAP,KAAaC,EAAb,KACA,EAAgDZ,mBAASH,EAAWI,OAAO,GAAGY,kBAA9E,mBAAOA,EAAP,KAAyBC,EAAzB,KAcMC,EAAkB,WACvB,IAAMC,EAA8BC,SAClCC,eAAef,GACfgB,wBACFb,EAAkBU,EAA4BI,OAC9CZ,EAAqBQ,EAA4BK,IAG5CC,EAAkB,WACxBV,EAAQ,MACRW,MAAM,wCAAD,OAAyCV,EAAzC,MACJW,OAAM,kBAAMC,QAAQC,IAAI,YACxBC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACE,GACN,IACMlB,EADkBkB,EAAKC,SAASC,MAAM,KAAK,GACpBA,MAAM,KAAK,GACpCC,EAAOC,OAAOtB,EAAKuB,MAAM,EAAG,IAC5BC,EAAUF,OAAOtB,EAAKuB,MAAM,EAAG,IAC/BE,EAAO,GAEC,IAATJ,GACFA,EAAO,GACPI,EAAO,MACW,KAATJ,EACTI,EAAO,KACEJ,EAAO,IAChBA,GAAQ,GACRI,EAAO,MAEPA,EAAO,KAER,IAAMC,EAAa,UAAML,EAAN,YAAcG,EAAd,YAAyBC,GAC5CxB,EAAQyB,OAwBT,OApBAC,qBAAU,WACTvB,IACAO,MACE,IAEHgB,qBAAU,WACT,IAAMC,EAAqBC,KAAS,WACnCzB,MACE,KAGH,OAFA0B,OAAOC,iBAAiB,SAAUH,GAE3B,SAACI,GACPF,OAAOG,oBAAoB,SAAUL,OAIvCD,qBAAU,WACVhB,MACG,CAACT,IAGH,qCACC,0BAASgC,UAAU,aAAnB,UACC,8BACC,6BACChD,EAAWI,OAAO6C,KAAI,SAACC,GAAD,OACtB,oBACCF,UAAS,UACR1C,IAAiB4C,EAAK7C,QAAU,eAAiB,IAElD8C,GAAID,EAAK7C,QAET+C,QAAS,SAACC,GAAD,OAhFgB,SAACA,EAAOC,GACjC1C,GACJC,GAAuB,GAExB,IAAM0C,EAAiBF,EAAMG,OAAOlC,wBACpCf,EAAgB+C,EAAgBjD,SACjCuB,QAAQC,IAAI,sBAAuByB,EAAgBtC,kBACnDC,EAAoBqC,EAAgBtC,kBACnCP,EAAkB8C,EAAehC,OACjCZ,EAAqB4C,EAAe/B,GAuEXiC,CAAuBJ,EAAOH,IANnD,SAQEA,EAAKQ,OAHDR,EAAK7C,gBAQb,qBACC2C,UAAS,mBAAcpC,EAAsB,cAAgB,IAC7D+C,MAAO,CAAEpC,MAAOf,EAAgBoD,KAAMlD,QAGxC,yBAASsC,UAAU,OAAnB,SACElC,EACA,4BAAIA,IACJ,qBAAKkC,UAAU,aAAaa,IAAKC,EAAYC,IAAI,oBC1GtDC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF9C,SAASC,eAAe,W","file":"static/js/main.6c9f33dc.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/loading.c7d9f081.gif\";","import { useState, useEffect } from \"react\";\nimport debounce from \"lodash/debounce\";\nimport \"./App.scss\";\nimport _ from \"lodash\";\nimport loadingGif from './assets/loading.gif'\nconst navigation = require(\"./navigation.json\");\n\nexport default function App() {\n\tconst [selectedCity, setSelectedCity] = useState(navigation.cities[0].section);\n\tconst [underlineWidth, setUnderlineWidth] = useState(\"0px\");\n\tconst [underlinePosition, setUnderlinePosition] = useState(\"0px\");\n\tconst [animationTransition, setAnimationTransition] = useState(false);\n\tconst [time, setTime] = useState(null);\n\tconst [timezoneLocation, setTimezoneLocation] = useState(navigation.cities[0].timezoneLocation);\n\n\tconst handleNewCitySelection = (event, newSelectedCity) => {\n\t\tif (!animationTransition) {\n\t\t\tsetAnimationTransition(true);\n\t\t}\n\t\tconst targetPosition = event.target.getBoundingClientRect();\n\t\tsetSelectedCity(newSelectedCity.section);\n\tconsole.log(\"setTimezoneLocation\", newSelectedCity.timezoneLocation);\n\tsetTimezoneLocation(newSelectedCity.timezoneLocation);\n\t\tsetUnderlineWidth(targetPosition.width);\n\t\tsetUnderlinePosition(targetPosition.x);\n\t};\n\n\tconst updateUnderline = () => {\n\t\tconst selectedCityElementPosition = document\n\t\t\t.getElementById(selectedCity)\n\t\t\t.getBoundingClientRect();\n\t\tsetUnderlineWidth(selectedCityElementPosition.width);\n\t\tsetUnderlinePosition(selectedCityElementPosition.x);\n\t};\n\n\tconst updateLocalTime = () => {\n\tsetTime(null);\n\tfetch(`http://worldtimeapi.org/api/timezone/${timezoneLocation}/`)\n\t.catch(() => console.log(\"error\"))\n\t.then((res) => res.json())\n\t.then((json) => {\n\t\tconst longVersionTime = json.datetime.split(\"T\")[1];\n\t\tconst time = longVersionTime.split(\".\")[0];\n\t\tlet hour = Number(time.slice(0, 2));\n\t\tlet minutes = Number(time.slice(3, 5));\n\t\tlet ampm = \"\";\n\n\t\tif(hour === 0) {\n\t\t\thour = 12;\n\t\t\tampm = \"AM\";\n\t\t} else if(hour === 12) {\n\t\t\tampm = \"PM\";\n\t\t} else if(hour > 12) {\n\t\t\thour -= 12;\n\t\t\tampm = \"PM\";\n\t\t} else {\n\t\t\tampm = \"AM\";\n\t\t}\n\t\tconst formattedTime = `${hour}:${minutes} ${ampm}`;\n\t\tsetTime(formattedTime);\n\t});\n\t};\n\n\tuseEffect(() => {\n\t\tupdateUnderline();\n\t\tupdateLocalTime();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst handleWindowResize = debounce(() => {\n\t\t\tupdateUnderline();\n\t\t}, 500);\n\t\twindow.addEventListener(\"resize\", handleWindowResize);\n\n\t\treturn (_) => {\n\t\t\twindow.removeEventListener(\"resize\", handleWindowResize);\n\t\t};\n\t});\n\n\tuseEffect(() => {\n\tupdateLocalTime();\n\t}, [timezoneLocation]);\n\n\treturn (\n\t\t<>\n\t\t\t<section className=\"navigation\">\n\t\t\t\t<nav>\n\t\t\t\t\t<ul>\n\t\t\t\t\t{navigation.cities.map((city) => (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tclassName={`${\n\t\t\t\t\t\t\t\tselectedCity === city.section ? \"selectedCity\" : \"\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\tid={city.section}\n\t\t\t\t\t\t\tkey={city.section}\n\t\t\t\t\t\t\tonClick={(event) => handleNewCitySelection(event, city)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{city.label}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t</nav>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`underline${animationTransition ? \" transition\" : \"\"}`}\n\t\t\t\t\tstyle={{ width: underlineWidth, left: underlinePosition }}\n\t\t\t\t></div>\n\t\t\t</section>\n\t\t\t<section className=\"time\">\n\t\t\t\t{time ? \n\t\t\t\t\t<p>{time}</p> : \n\t\t\t\t\t<img className=\"loadingGif\" src={loadingGif} alt=\"Loading...\" />\n\t\t\t\t}\n\t\t\t</section>\n\t\t</>\n\t);\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}