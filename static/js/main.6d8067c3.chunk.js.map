{"version":3,"sources":["assets/loading.gif","App.js","helpers/formatTime.js","index.js"],"names":["navigation","require","App","useState","cities","section","selectedCity","setSelectedCity","underlineWidth","setUnderlineWidth","underlinePosition","setUnderlinePosition","animationTransition","setAnimationTransition","time","setTime","timezoneLocation","setTimezoneLocation","updateUnderline","selectedCityElementPosition","document","getElementById","getBoundingClientRect","width","x","updateLocalTime","fetch","then","res","json","datetime","split","formattedTime","hour","minutes","ampm","toString","length","formatTime","catch","err","console","log","useEffect","handleWindowResize","debounce","window","addEventListener","_","removeEventListener","className","map","city","id","onClick","event","newSelectedCity","targetPosition","target","handleNewCitySelection","label","style","left","src","loadingGif","alt","ReactDOM","render","StrictMode"],"mappings":"2xBAAe,G,YAAA,IAA0B,qC,OCMnCA,EAAaC,EAAQ,IAEZ,SAASC,IACvB,MAAwCC,mBAASH,EAAWI,OAAO,GAAGC,SAAtE,mBAAOC,EAAP,KAAqBC,EAArB,KACA,EAA4CJ,mBAAS,OAArD,mBAAOK,EAAP,KAAuBC,EAAvB,KACA,EAAkDN,mBAAS,OAA3D,mBAAOO,EAAP,KAA0BC,EAA1B,KACA,EAAsDR,oBAAS,GAA/D,mBAAOS,EAAP,KAA4BC,EAA5B,KACA,EAAwBV,mBAAS,MAAjC,mBAAOW,EAAP,KAAaC,EAAb,KACA,EAAgDZ,mBAASH,EAAWI,OAAO,GAAGY,kBAA9E,mBAAOA,EAAP,KAAyBC,EAAzB,KAaMC,EAAkB,WACvB,IAAMC,EAA8BC,SAClCC,eAAef,GACfgB,wBACFb,EAAkBU,EAA4BI,OAC9CZ,EAAqBQ,EAA4BK,IAG5CC,EAAkB,WACvBV,EAAQ,MACRW,MAAM,wCAAD,OAAyCV,EAAzC,MACHW,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACE,GACN,IACA,EADaA,EAAKC,SAASC,MAAM,KAAK,GAAGA,MAAM,KAAK,GACvBA,MAAM,KAAnC,mBACMC,EC1CgB,SAACC,EAAMC,GAChC,IAAIC,EAAO,GAuBX,OArBY,IAATF,GACFA,EAAO,GACPE,EAAO,MACW,KAATF,EACTE,EAAO,KACEF,EAAO,IAChBA,GAAQ,GACRE,EAAO,MAEPA,EAAO,KAGsB,IAA3BF,EAAKG,WAAWC,SAClBJ,EAAI,WAAOA,IAGqB,IAA9BC,EAAQE,WAAWC,SACrBH,EAAO,WAAOA,IAGI,UAAMD,EAAN,YAAcC,EAAd,YAAyBC,GDmBnBG,CADtB,WAEAvB,EAAQiB,MAERO,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAI,sBAAuBF,OAqBrD,OAlBAG,qBAAU,WACTzB,IACAO,IAEA,IAAMmB,EAAqBC,KAAS,WACnC3B,MACE,KAGH,OAFA4B,OAAOC,iBAAiB,SAAUH,GAE3B,SAACI,GACPF,OAAOG,oBAAoB,SAAUL,MAEpC,IAEHD,qBAAU,WACTlB,MACE,CAACT,IAGH,qCACC,0BAASkC,UAAU,aAAnB,UACC,8BACC,6BACClD,EAAWI,OAAO+C,KAAI,SAACC,GAAD,OACtB,oBACCF,UAAS,UACR5C,IAAiB8C,EAAK/C,QAAU,eAAiB,IAElDgD,GAAID,EAAK/C,QAETiD,QAAS,SAACC,GAAD,OA9DgB,SAACA,EAAOC,GACjC5C,GACJC,GAAuB,GAExB,IAAM4C,EAAiBF,EAAMG,OAAOpC,wBACpCf,EAAgBiD,EAAgBnD,SAChCY,EAAoBuC,EAAgBxC,kBACpCP,EAAkBgD,EAAelC,OACjCZ,EAAqB8C,EAAejC,GAsDXmC,CAAuBJ,EAAOH,IANnD,SAQEA,EAAKQ,OAHDR,EAAK/C,gBAQb,qBACC6C,UAAS,mBAActC,EAAsB,cAAgB,IAC7DiD,MAAO,CAAEtC,MAAOf,EAAgBsD,KAAMpD,QAGxC,yBAASwC,UAAU,OAAnB,SACEpC,EACA,4BAAIA,IACJ,qBAAKoC,UAAU,aAAaa,IAAKC,EAAYC,IAAI,oBEzFtDC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFhD,SAASC,eAAe,W","file":"static/js/main.6d8067c3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/loading.c7d9f081.gif\";","import { useState, useEffect } from \"react\";\nimport { formatTime } from \"./helpers/formatTime\";\nimport debounce from \"lodash/debounce\";\nimport \"./App.scss\";\nimport _ from \"lodash\";\nimport loadingGif from './assets/loading.gif'\nconst navigation = require(\"./navigation.json\");\n\nexport default function App() {\n\tconst [selectedCity, setSelectedCity] = useState(navigation.cities[0].section);\n\tconst [underlineWidth, setUnderlineWidth] = useState(\"0px\");\n\tconst [underlinePosition, setUnderlinePosition] = useState(\"0px\");\n\tconst [animationTransition, setAnimationTransition] = useState(false);\n\tconst [time, setTime] = useState(null);\n\tconst [timezoneLocation, setTimezoneLocation] = useState(navigation.cities[0].timezoneLocation);\n\n\tconst handleNewCitySelection = (event, newSelectedCity) => {\n\t\tif (!animationTransition) {\n\t\t\tsetAnimationTransition(true);\n\t\t}\n\t\tconst targetPosition = event.target.getBoundingClientRect();\n\t\tsetSelectedCity(newSelectedCity.section);\n\t\tsetTimezoneLocation(newSelectedCity.timezoneLocation);\n\t\tsetUnderlineWidth(targetPosition.width);\n\t\tsetUnderlinePosition(targetPosition.x);\n\t};\n\n\tconst updateUnderline = () => {\n\t\tconst selectedCityElementPosition = document\n\t\t\t.getElementById(selectedCity)\n\t\t\t.getBoundingClientRect();\n\t\tsetUnderlineWidth(selectedCityElementPosition.width);\n\t\tsetUnderlinePosition(selectedCityElementPosition.x);\n\t};\n\n\tconst updateLocalTime = () => {\n\t\tsetTime(null);\n\t\tfetch(`http://worldtimeapi.org/api/timezone/${timezoneLocation}/`)\n\t\t\t.then((res) => res.json())\n\t\t\t.then((json) => {\n\t\t\t\tconst time = json.datetime.split(\"T\")[1].split(\".\")[0];\n\t\t\t\tconst [hour, minutes] = time.split(\":\");\n\t\t\t\tconst formattedTime = formatTime(hour, minutes);\n\t\t\t\tsetTime(formattedTime);\n\t\t\t})\n\t\t\t.catch((err) => console.log(\"error fetching time\", err));\n\t};\n\n\tuseEffect(() => {\n\t\tupdateUnderline();\n\t\tupdateLocalTime();\n\n\t\tconst handleWindowResize = debounce(() => {\n\t\t\tupdateUnderline();\n\t\t}, 500);\n\t\twindow.addEventListener(\"resize\", handleWindowResize);\n\n\t\treturn (_) => {\n\t\t\twindow.removeEventListener(\"resize\", handleWindowResize);\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tupdateLocalTime();\n\t}, [timezoneLocation]);\n\n\treturn (\n\t\t<>\n\t\t\t<section className=\"navigation\">\n\t\t\t\t<nav>\n\t\t\t\t\t<ul>\n\t\t\t\t\t{navigation.cities.map((city) => (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tclassName={`${\n\t\t\t\t\t\t\t\tselectedCity === city.section ? \"selectedCity\" : \"\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\tid={city.section}\n\t\t\t\t\t\t\tkey={city.section}\n\t\t\t\t\t\t\tonClick={(event) => handleNewCitySelection(event, city)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{city.label}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t</nav>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`underline${animationTransition ? \" transition\" : \"\"}`}\n\t\t\t\t\tstyle={{ width: underlineWidth, left: underlinePosition }}\n\t\t\t\t></div>\n\t\t\t</section>\n\t\t\t<section className=\"time\">\n\t\t\t\t{time ? \n\t\t\t\t\t<p>{time}</p> : \n\t\t\t\t\t<img className=\"loadingGif\" src={loadingGif} alt=\"Loading...\" />\n\t\t\t\t}\n\t\t\t</section>\n\t\t</>\n\t);\n}\n","export const formatTime = (hour, minutes) => {\n\tlet ampm = \"\";\n\n\tif(hour === 0) {\n\t\thour = 12;\n\t\tampm = \"AM\";\n\t} else if(hour === 12) {\n\t\tampm = \"PM\";\n\t} else if(hour > 12) {\n\t\thour -= 12;\n\t\tampm = \"PM\";\n\t} else {\n\t\tampm = \"AM\";\n\t}\n\n\tif(hour.toString().length === 1) {\n\t\thour = `0${hour}`;\n\t}\n\t\n\tif(minutes.toString().length === 1) {\n\t\tminutes = `0${minutes}`;\n\t}\n\n\tconst formattedTime = `${hour}:${minutes} ${ampm}`;\n\treturn formattedTime;\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}