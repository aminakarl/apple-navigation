{"version":3,"sources":["assets/loading.gif","App.js","index.js"],"names":["navigation","require","App","useState","cities","section","selectedCity","setSelectedCity","underlineWidth","setUnderlineWidth","underlinePosition","setUnderlinePosition","animationTransition","setAnimationTransition","time","setTime","timezoneLocation","setTimezoneLocation","updateUnderline","selectedCityElementPosition","document","getElementById","getBoundingClientRect","width","x","updateLocalTime","fetch","then","res","json","datetime","split","hour","Number","slice","minutes","ampm","formattedTime","useEffect","handleWindowResize","debounce","window","addEventListener","_","removeEventListener","className","map","city","id","onClick","event","newSelectedCity","targetPosition","target","console","log","handleNewCitySelection","label","style","left","src","loadingGif","alt","ReactDOM","render","StrictMode"],"mappings":"2xBAAe,G,YAAA,IAA0B,qC,OCKnCA,EAAaC,EAAQ,IAEZ,SAASC,IACvB,MAAwCC,mBAASH,EAAWI,OAAO,GAAGC,SAAtE,mBAAOC,EAAP,KAAqBC,EAArB,KACA,EAA4CJ,mBAAS,OAArD,mBAAOK,EAAP,KAAuBC,EAAvB,KACA,EAAkDN,mBAAS,OAA3D,mBAAOO,EAAP,KAA0BC,EAA1B,KACA,EAAsDR,oBAAS,GAA/D,mBAAOS,EAAP,KAA4BC,EAA5B,KACA,EAAwBV,mBAAS,MAAjC,mBAAOW,EAAP,KAAaC,EAAb,KACA,EAAgDZ,mBAASH,EAAWI,OAAO,GAAGY,kBAA9E,mBAAOA,EAAP,KAAyBC,EAAzB,KAcMC,EAAkB,WACvB,IAAMC,EAA8BC,SAClCC,eAAef,GACfgB,wBACFb,EAAkBU,EAA4BI,OAC9CZ,EAAqBQ,EAA4BK,IAG5CC,EAAkB,WACxBV,EAAQ,MACRW,MAAM,wCAAD,OAAyCV,EAAzC,MACJW,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACE,GACN,IACMf,EADkBe,EAAKC,SAASC,MAAM,KAAK,GACpBA,MAAM,KAAK,GACpCC,EAAOC,OAAOnB,EAAKoB,MAAM,EAAG,IAC5BC,EAAUF,OAAOnB,EAAKoB,MAAM,EAAG,IAC/BE,EAAO,GAEC,IAATJ,GACFA,EAAO,GACPI,EAAO,MACW,KAATJ,EACTI,EAAO,KACEJ,EAAO,IAChBA,GAAQ,GACRI,EAAO,MAEPA,EAAO,KAER,IAAMC,EAAa,UAAML,EAAN,YAAcG,EAAd,YAAyBC,GAC5CrB,EAAQsB,OAwBT,OApBAC,qBAAU,WACTpB,IACAO,MACE,IAEHa,qBAAU,WACT,IAAMC,EAAqBC,KAAS,WACnCtB,MACE,KAGH,OAFAuB,OAAOC,iBAAiB,SAAUH,GAE3B,SAACI,GACPF,OAAOG,oBAAoB,SAAUL,OAIvCD,qBAAU,WACVb,MACG,CAACT,IAGH,qCACC,0BAAS6B,UAAU,aAAnB,UACC,8BACC,6BACC7C,EAAWI,OAAO0C,KAAI,SAACC,GAAD,OACtB,oBACCF,UAAS,UACRvC,IAAiByC,EAAK1C,QAAU,eAAiB,IAElD2C,GAAID,EAAK1C,QAET4C,QAAS,SAACC,GAAD,OA/EgB,SAACA,EAAOC,GACjCvC,GACJC,GAAuB,GAExB,IAAMuC,EAAiBF,EAAMG,OAAO/B,wBACpCf,EAAgB4C,EAAgB9C,SACjCiD,QAAQC,IAAI,sBAAuBJ,EAAgBnC,kBACnDC,EAAoBkC,EAAgBnC,kBACnCP,EAAkB2C,EAAe7B,OACjCZ,EAAqByC,EAAe5B,GAsEXgC,CAAuBN,EAAOH,IANnD,SAQEA,EAAKU,OAHDV,EAAK1C,gBAQb,qBACCwC,UAAS,mBAAcjC,EAAsB,cAAgB,IAC7D8C,MAAO,CAAEnC,MAAOf,EAAgBmD,KAAMjD,QAGxC,yBAASmC,UAAU,OAAnB,SACE/B,EACA,4BAAIA,IACJ,qBAAK+B,UAAU,aAAae,IAAKC,EAAYC,IAAI,oBCzGtDC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF7C,SAASC,eAAe,W","file":"static/js/main.0ce8c3f0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/loading.c7d9f081.gif\";","import { useState, useEffect } from \"react\";\nimport debounce from \"lodash/debounce\";\nimport \"./App.scss\";\nimport _ from \"lodash\";\nimport loadingGif from './assets/loading.gif'\nconst navigation = require(\"./navigation.json\");\n\nexport default function App() {\n\tconst [selectedCity, setSelectedCity] = useState(navigation.cities[0].section);\n\tconst [underlineWidth, setUnderlineWidth] = useState(\"0px\");\n\tconst [underlinePosition, setUnderlinePosition] = useState(\"0px\");\n\tconst [animationTransition, setAnimationTransition] = useState(false);\n\tconst [time, setTime] = useState(null);\n\tconst [timezoneLocation, setTimezoneLocation] = useState(navigation.cities[0].timezoneLocation);\n\n\tconst handleNewCitySelection = (event, newSelectedCity) => {\n\t\tif (!animationTransition) {\n\t\t\tsetAnimationTransition(true);\n\t\t}\n\t\tconst targetPosition = event.target.getBoundingClientRect();\n\t\tsetSelectedCity(newSelectedCity.section);\n\tconsole.log(\"setTimezoneLocation\", newSelectedCity.timezoneLocation);\n\tsetTimezoneLocation(newSelectedCity.timezoneLocation);\n\t\tsetUnderlineWidth(targetPosition.width);\n\t\tsetUnderlinePosition(targetPosition.x);\n\t};\n\n\tconst updateUnderline = () => {\n\t\tconst selectedCityElementPosition = document\n\t\t\t.getElementById(selectedCity)\n\t\t\t.getBoundingClientRect();\n\t\tsetUnderlineWidth(selectedCityElementPosition.width);\n\t\tsetUnderlinePosition(selectedCityElementPosition.x);\n\t};\n\n\tconst updateLocalTime = () => {\n\tsetTime(null);\n\tfetch(`http://worldtimeapi.org/api/timezone/${timezoneLocation}/`)\n\t.then((res) => res.json())\n\t.then((json) => {\n\t\tconst longVersionTime = json.datetime.split(\"T\")[1];\n\t\tconst time = longVersionTime.split(\".\")[0];\n\t\tlet hour = Number(time.slice(0, 2));\n\t\tlet minutes = Number(time.slice(3, 5));\n\t\tlet ampm = \"\";\n\n\t\tif(hour === 0) {\n\t\t\thour = 12;\n\t\t\tampm = \"AM\";\n\t\t} else if(hour === 12) {\n\t\t\tampm = \"PM\";\n\t\t} else if(hour > 12) {\n\t\t\thour -= 12;\n\t\t\tampm = \"PM\";\n\t\t} else {\n\t\t\tampm = \"AM\";\n\t\t}\n\t\tconst formattedTime = `${hour}:${minutes} ${ampm}`;\n\t\tsetTime(formattedTime);\n\t});\n\t};\n\n\tuseEffect(() => {\n\t\tupdateUnderline();\n\t\tupdateLocalTime();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst handleWindowResize = debounce(() => {\n\t\t\tupdateUnderline();\n\t\t}, 500);\n\t\twindow.addEventListener(\"resize\", handleWindowResize);\n\n\t\treturn (_) => {\n\t\t\twindow.removeEventListener(\"resize\", handleWindowResize);\n\t\t};\n\t});\n\n\tuseEffect(() => {\n\tupdateLocalTime();\n\t}, [timezoneLocation]);\n\n\treturn (\n\t\t<>\n\t\t\t<section className=\"navigation\">\n\t\t\t\t<nav>\n\t\t\t\t\t<ul>\n\t\t\t\t\t{navigation.cities.map((city) => (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tclassName={`${\n\t\t\t\t\t\t\t\tselectedCity === city.section ? \"selectedCity\" : \"\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\tid={city.section}\n\t\t\t\t\t\t\tkey={city.section}\n\t\t\t\t\t\t\tonClick={(event) => handleNewCitySelection(event, city)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{city.label}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t</nav>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`underline${animationTransition ? \" transition\" : \"\"}`}\n\t\t\t\t\tstyle={{ width: underlineWidth, left: underlinePosition }}\n\t\t\t\t></div>\n\t\t\t</section>\n\t\t\t<section className=\"time\">\n\t\t\t\t{time ? \n\t\t\t\t\t<p>{time}</p> : \n\t\t\t\t\t<img className=\"loadingGif\" src={loadingGif} alt=\"Loading...\" />\n\t\t\t\t}\n\t\t\t</section>\n\t\t</>\n\t);\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}